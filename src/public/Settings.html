<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Start Screen</title>
    <link rel="stylesheet" href="Settings.css" />
</head>

<body>
    <!-- 菜单按钮 -->
    <div class="menu-button" title="返回" id="menuButton">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <div class="start-screen">
        <h1>设置</h1>
        <div class="settings">
            <div class="slider-container">
                <label for="cardCount">卡牌数量:</label>
                <input type="range" id="cardCount" min="3" max="7" value="4" />
                <span id="cardCountValue" class="span-width">4</span>
            </div>

            <div class="slider-container">
                <label for="maxNumber">最大数字范围:</label>
                <input type="range" id="maxNumber" min="10" max="100" step="10" value="10" />
                <span id="maxNumberValue" class="span-width">10</span>
            </div>

            <div class="slider-container">
                <label for="timeLimit">作答时间:</label>
                <input type="range" id="timeLimit" min="30" max="120" value="60" step="30"/>
                <span id="timeLimitValue" class="span-width">60</span>
            </div>
        </div>

        <button id="startGame" class="new-game">开始游戏</button>
    </div>

    <script>
        // 从 localStorage 中获取数据
        const cardCount = localStorage.getItem('cardCount');
        const maxNumber = localStorage.getItem('maxNumber');
        const timeLimit = localStorage.getItem('timeLimit');
        // 如果数据存在，则更新滑块数值
        if (cardCount) {
            document.getElementById('cardCount').value = cardCount;
            document.getElementById('cardCountValue').textContent = cardCount;
        }
        if (maxNumber) {
            document.getElementById('maxNumber').value = maxNumber;
            document.getElementById('maxNumberValue').textContent = maxNumber;
        }
        if (timeLimit) {
            document.getElementById('timeLimit').value = timeLimit;
            document.getElementById('timeLimitValue').textContent = timeLimit;
        }

        // 更新滑块数值
        const cardCountSlider = document.getElementById('cardCount');
        const cardCountValue = document.getElementById('cardCountValue');

        const maxNumberSlider = document.getElementById('maxNumber');
        const maxNumberValue = document.getElementById('maxNumberValue');

        const timeLimitSlider = document.getElementById('timeLimit');
        const timeLimitValue = document.getElementById('timeLimitValue');

        cardCountSlider.addEventListener('input', () => {
            cardCountValue.textContent = cardCountSlider.value;
        });

        maxNumberSlider.addEventListener('input', () => {
            maxNumberValue.textContent = maxNumberSlider.value;
        });

        timeLimitSlider.addEventListener('input', () => {
            timeLimitValue.textContent = timeLimitSlider.value;
        });

        document.getElementById('startGame').addEventListener('click', () => {
            const cardCount = document.getElementById('cardCount').value;
            const maxNumber = document.getElementById('maxNumber').value;
            const timeLimit = document.getElementById('timeLimit').value;
            // 将数据存入 localStorage
            localStorage.setItem('cardCount', cardCount);
            localStorage.setItem('maxNumber', maxNumber);
            localStorage.setItem('timeLimit', timeLimit);

            document.body.classList.add('fade-out'); // 添加滑动消失效果
            setTimeout(() => {
                window.location.href = 'game.html'; // 跳转到游戏页面
            }, 500); // 动画完成后跳转
        });

    </script>
    <script>
        // 点击菜单按钮跳转到设置页面
        document.getElementById('menuButton').addEventListener('click', () => {
            window.location.href ='Game.html';
        });
    </script>
</body>

</html>